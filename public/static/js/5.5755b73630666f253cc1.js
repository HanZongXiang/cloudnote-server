webpackJsonp([5],{"8B7J":function(t,e){},Jd6B:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w1170 wrapper"},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("用户列表")]),t._v(" "),a("el-table",{attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"用户",prop:"username"}}),t._v(" "),a("el-table-column",{attrs:{label:"头像",prop:"avatar"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"table-item-img",attrs:{src:t.row.avatar}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"邮箱",prop:"email"}}),t._v(" "),a("el-table-column",{attrs:{label:"描述",prop:"desc"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){t.edit(e.row._id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.remove(e.row._id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{background:"","page-size":4,layout:"prev, pager, next",total:t.total},on:{"current-change":t.pageChange}})],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")({name:"",data:function(){return{tableData:[],page:1,total:0}},components:{},methods:{getTableData:function(){var t=this;this.$axios.get("/user",{page:this.page,page_size:4}).then(function(e){t.tableData=e.data,t.total=e.total})},edit:function(t){this.$router.push("/userEdit/"+t)},remove:function(t){var e=this;this.$confirm("此操作将永久删除该用户信息，是否继续?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(a){t==e.$store.state.userInfo.id?e.$message.error("不能自己删除自己"):e.$axios.delete("/user/"+t).then(function(t){200==t.code&&(e.$message.success(t.msg),e.getTableData())})}).catch(function(t){e.$message.info("请求有误")})},pageChange:function(t){this.page=t,this.getTableData()}},created:function(){this.getTableData()}},n,!1,function(t){a("8B7J")},"data-v-19116848",null);e.default=r.exports}});
//# sourceMappingURL=5.5755b73630666f253cc1.js.map